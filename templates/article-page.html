{% import "macros/page.html" as page_macros %}
{% extends "base.html" %} 

{% block title %} {{page.title}} {% endblock  title %}

{% block content %}
<h1 class="title">{{ page.title }}</h1>
<div class="subtitle"><strong>{{ page.date }}</strong></div>
{% if page.extra.before %} 
  {{page_macros::series(list=page.extra.before, isBefore=true)}}
{%endif%}
{{ page.content | safe }}
{% if page.extra.after %} 
  {{page_macros::series(list=page.extra.after, isBefore=false)}}
{%endif%}
<p class="cta">
  <a href="{{page.extra | get(key="link")}}">
    {% if "linkText" in page.extra %}
      {{ page.extra | get(key="linkText")}}
    {% else %}
      See the code
    {% endif %} 
  </a>
  {% if page.extra.discussion %} 
  or 
  <a href="{{page.extra.discussion}}">Join the discussion</a>
  {% endif %}
</p>
{% endblock content %}